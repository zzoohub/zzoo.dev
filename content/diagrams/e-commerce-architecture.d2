direction: right

client: Client {
  browser: Browser
  mobile: Mobile App
}

edge: Edge Layer {
  cdn: CDN / Vercel Edge
  edge-fn: Edge Functions
}

app: Application {
  next: Next.js App {
    ssg: Static Pages
    isr: ISR Pages
    api: API Routes
  }
}

data: Data Layer {
  pg: PostgreSQL {
    primary: Primary
    replica: Read Replica
  }
  redis: Redis Cache
}

services: External Services {
  stripe: Stripe Payments
  email: Email Service
}

client.browser -> edge.cdn: HTTPS
client.mobile -> edge.cdn: HTTPS
edge.cdn -> app.next.ssg: Static Assets
edge.edge-fn -> app.next.isr: Dynamic Content
app.next.api -> data.pg.primary: Write
app.next.api -> data.pg.replica: Read
app.next.api -> data.redis: Cache
app.next.api -> services.stripe: Payments
app.next.api -> services.email: Notifications
